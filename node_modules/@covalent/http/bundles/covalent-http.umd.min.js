!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/common/http")):"function"==typeof define&&define.amd?define("@covalent/http",["exports","@angular/core","rxjs","@angular/common/http"],t):t((e.covalent=e.covalent||{},e.covalent.http={}),e.ng.core,e.rxjs,e.ng.common.http)}(this,function(e,p,a,P){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function u(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function I(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function s(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(o)throw o.error}}return a}var o=function(){function e(t,e,r){var n=this;this._injector=t,this._httpInterceptorMatcher=e,this._requestInterceptors=[],r.forEach(function(e){n._requestInterceptors.push({interceptor:t.get(e.interceptor),paths:e.paths})})}return Object.defineProperty(e.prototype,"requestInterceptors",{get:function(){return this._requestInterceptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"httpInterceptorMatcher",{get:function(){return this._httpInterceptorMatcher},enumerable:!0,configurable:!0}),e}(),c=function(i){function e(e,t){var r=i.call(this,e)||this;return r._handler=e,r._interceptorBehavior=t,r}return u(e,i),e.prototype.request=function(e,t,r){var n=this;void 0===r&&(r={});var o=this._interceptorBehavior.requestInterceptors.filter(function(e){return n._interceptorBehavior.httpInterceptorMatcher.matches({url:t},e)}).map(function(e){return e.interceptor});return this._setupRequest(e,t,r,o)},e.prototype._setupRequest=function(e,t,r,n){try{r=this._requestResolve(r,n)}catch(o){return new a.Observable(function(e){e.error(o)})}return this._handleResponseResolve(i.prototype.request.call(this,e,t,r),n)},e.prototype._requestResolve=function(t,e){return e.forEach(function(e){e.handleOptions&&(t=e.handleOptions(t))}),t},e.prototype._handleResponseResolve=function(t,e){return e.reverse().forEach(function(e){e.handleResponse&&(t=e.handleResponse(t))}),t},e}(P.HttpClient);function f(){try{return p.inject(p.INJECTOR)}catch(e){if(!i._injector)throw new Error("Please add CovalentHttpModule into your imports.");return i._injector}}function r(i,r,n){return void 0===n&&(n=c),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),Object.defineProperty(t.prototype,"baseUrl",{get:function(){return("string"==typeof this.basePath?this.basePath.replace(/\/$/,""):"")+this._baseUrl},enumerable:!0,configurable:!0}),t.prototype.buildConfig=function(){this.http=this._injector.get(n),this._baseUrl=r&&r.baseUrl?r.baseUrl.replace(/\/$/,""):"",this._baseHeaders=r&&r.baseHeaders?r.baseHeaders:new P.HttpHeaders,this._defaultObserve=r&&r.defaultObserve?r.defaultObserve:"body",this._defaultResponseType=r&&r.defaultResponseType?r.defaultResponseType:"json"},t.prototype.buildHeaders=function(){var t=this,r={};return this._baseHeaders.keys().forEach(function(e){r[e]=t._baseHeaders.get(e)}),new P.HttpHeaders(r)},t.prototype.buildRequest=function(e,t,r){return this._buildRequest(e,t,r)},t.prototype._buildRequest=function(e,t,r){if(void 0===r&&(r={}),r.responseType||(r.responseType=this._defaultResponseType),r.observe||(r.observe=this._defaultObserve),r.headers){var n=this.buildHeaders();if(r.headers instanceof P.HttpHeaders)r.headers.keys().forEach(function(e){n=n.set(e,r.headers.get(e))});else for(var o in r.headers)n=n.set(o,r.headers[o]);r.headers=n}else r.headers=this.buildHeaders();return this.http.request(e,t,r)},t}(function(o){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.apply(this,function n(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}(e&&e.length?e:function c(e,t){for(var r=[],n=0;n<e.length;n++){var o=e[n];if(o)if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");for(var i=undefined,a=0,u=0;u<o.length;u++){var s=o[u];s instanceof p.Optional||"Optional"===s.ngMetadataName?a|=8:s instanceof p.SkipSelf||"SkipSelf"===s.ngMetadataName?a|=4:s instanceof p.Self||"Self"===s.ngMetadataName?a|=2:i=s instanceof p.Inject?s.token:s}r.push(t.get(i,a))}else r.push(t.get(o))}return r}((new p.ɵReflectionCapabilities).parameters(i),f())))||this;return r._injector=f(),r.buildConfig(),r}return u(e,o),e}(i))}var i=function(){function t(e){t._injector=e}return t._injector=undefined,t.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:p.Injector}]},t.ngInjectableDef=p.defineInjectable({factory:function(){return new t(p.inject(p.INJECTOR))},token:t,providedIn:"root"}),t}(),l=function(){function e(){}return e.prototype.matches=function(t,e){return 0<e.paths.filter(function(e){return!!(e=e.replace(/\*\*/gi,"<>").replace(/\*/gi,"[a-zA-Z0-9\\-_]+").replace(/<>/gi,"[a-zA-Z0-9\\-_/]*"))&&(e+="(\\?{1}.*)?$",new RegExp(e).test(t.url))}).length},e}(),d=new p.InjectionToken("HTTP_CONFIG");function t(e,t,r){return new c(e,new o(t,new l,r.interceptors))}var h={provide:c,useFactory:t,deps:[P.HttpHandler,p.Injector,d]},y=function(){function t(e){this._internalHttpService=e}return t.forRoot=function(e){return void 0===e&&(e={interceptors:[]}),{ngModule:t,providers:[{provide:d,useValue:e},h]}},t.decorators=[{type:p.NgModule,args:[{imports:[P.HttpClientModule],providers:[i]}]}],t.ctorParameters=function(){return[{type:i}]},t}(),x=Symbol("TdHttpRESTParam");function v(o,i){return function(e,t,r){var n=Reflect.getOwnMetadata(x,e,t)||[];n.push({index:r,param:i,type:o}),Reflect.defineMetadata(x,n,e,t)}}var E=a.of(undefined);function w(e,t){var r=e;if(t instanceof P.HttpParams)t.keys().forEach(function(e){t.get(e)!==undefined&&(r=r.set(e,t.get(e)))});else for(var n in t)t[n]!==undefined&&(r=r.set(n,t[n]));return r}function b(O){return function(H,j,e){var R=e.value;e.value=function(){var e,t,r,n;try{var o=O.path,i=Reflect.getOwnMetadata(x,H,j),a=[],u=void 0,s=new P.HttpParams;if(i)try{for(var c=I(i),p=c.next();!p.done;p=c.next()){if("param"===(b=p.value).type)a[b.index]=arguments[b.index],o=o.replace(":"+b.param,arguments[b.index]);else if("body"===b.type)a[b.index]=arguments[b.index],u=arguments[b.index];else if("queryParams"===b.type){a[b.index]=arguments[b.index];var f=arguments[b.index];O.options&&O.options.params&&(s=w(s,O.options.params)),f&&(s=w(s,f))}}}catch(m){e={error:m}}finally{try{p&&!p.done&&(t=c["return"])&&t.call(c)}finally{if(e)throw e.error}}var l=this.baseUrl+o,d=Object.assign({},O.options,{body:u,params:s}),h=this.buildRequest(O.method,l,d);if(i)try{for(var y=I(i),v=y.next();!v.done;v=y.next()){var b;"response"===(b=v.value).type&&(a[b.index]=h)}}catch(_){r={error:_}}finally{try{v&&!v.done&&(n=y["return"])&&n.call(y)}finally{if(r)throw r.error}}var g=R.apply(this,a);return g===E||g===undefined?h:g}catch(T){console.error(T)}}}}e.TdHttpService=c,e.httpFactory=t,e.HTTP_CONFIG=d,e.HTTP_INTERCEPTOR_PROVIDER=h,e.CovalentHttpModule=y,e.TdURLRegExpInterceptorMatcher=l,e.TdGET=function g(e){return b(Object.assign({method:"GET"},e))},e.TdPOST=function m(e){return b(Object.assign({method:"POST"},e))},e.TdPATCH=function _(e){return b(Object.assign({method:"PATCH"},e))},e.TdPUT=function T(e){return b(Object.assign({method:"PUT"},e))},e.TdDELETE=function H(e){return b(Object.assign({method:"DELETE"},e))},e.TdHttp=function j(t){return function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t}(r(e,t,c))}},e.TdHttpClient=function R(t){return function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t}(r(e,t,P.HttpClient))}},e.TdParam=function O(e){return v("param",e)},e.TdBody=function q(){return v("body")},e.TdResponse=function M(){return v("response")},e.TdQueryParams=function S(){return v("queryParams")},e.getInjector=f,e.mixinHttp=r,e.InternalHttpService=i,e.ɵb=i,e.ɵa=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=covalent-http.umd.min.js.map